<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S·ª©c Kh·ªèe 360: N·ªÅn T·∫£ng & C√¢n B·∫±ng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .screen { display: none; }
        .screen.active { display: block; }
        .bottom-nav-item.active svg { color: #10B981; }
        .bottom-nav-item.active span { color: #10B981; }
        .solution-image {
            width: 100%;
            height: auto;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 1rem;
        }
        #chat-messages {
            height: calc(100vh - 220px); /* Adjust based on header/footer height */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Main Application Container -->
    <div id="app-container" class="max-w-md mx-auto bg-white min-h-screen shadow-lg">
        <main id="main-content" class="p-4 pb-24">

            <!-- ========= HOME SCREEN ========= -->
            <div id="home" class="screen active">
                <header class="mb-6">
                    <h1 class="text-2xl font-bold text-emerald-600">S·ª©c Kh·ªèe 360</h1>
                    <p class="text-gray-500">Tr·ª£ l√Ω s·ª©c kh·ªèe c√° nh√¢n c·ªßa b·∫°n.</p>
                </header>
                <div id="health-dashboard-setup" class="bg-emerald-50 border border-emerald-200 rounded-xl p-4 mb-6">
                    <h2 class="text-lg font-semibold mb-3 text-emerald-800">B·∫Øt ƒê·∫ßu H√†nh Tr√¨nh C·ªßa B·∫°n</h2>
                    <p class="text-sm text-gray-600 mb-4">H√£y cung c·∫•p th√¥ng tin ƒë·ªÉ ch√∫ng t√¥i t·∫°o ra m·ªôt l·ªô tr√¨nh ƒë∆∞·ª£c c√° nh√¢n h√≥a d√†nh ri√™ng cho b·∫°n.</p>
                    <form id="user-info-form" class="space-y-4 text-sm">
                        <div>
                            <label for="gender" class="block font-medium">Gi·ªõi t√≠nh</label>
                            <select id="gender" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500">
                                <option value="male">Nam</option>
                                <option value="female">N·ªØ</option>
                            </select>
                        </div>
                        <div>
                            <label for="age" class="block font-medium">Tu·ªïi (nƒÉm)</label>
                            <input type="number" id="age" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500" placeholder="e.g., 35">
                        </div>
                        <div>
                            <label for="height" class="block font-medium">Chi·ªÅu cao (cm)</label>
                            <input type="number" id="height" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500" placeholder="e.g., 172">
                        </div>
                        <div>
                            <label for="weight" class="block font-medium">C√¢n n·∫∑ng (kg)</label>
                            <input type="number" id="weight" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500" placeholder="e.g., 78.8">
                        </div>
                         <div>
                            <label for="goal" class="block font-medium">M·ª•c ti√™u c·ªßa b·∫°n l√† g√¨?</label>
                            <select id="goal" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500">
                                <option value="maintain">Duy tr√¨ c√¢n n·∫∑ng</option>
                                <option value="lose">Gi·∫£m c√¢n</option>
                                <option value="gain">TƒÉng c√¢n</option>
                            </select>
                        </div>
                        <div>
                            <label for="activity-level" class="block font-medium">M·ª©c ƒë·ªô v·∫≠n ƒë·ªông:</label>
                             <select id="activity-level" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500">
                                <option value="1.2">√çt v·∫≠n ƒë·ªông (vƒÉn ph√≤ng)</option>
                                <option value="1.375">V·∫≠n ƒë·ªông nh·∫π (1-3 ng√†y/tu·∫ßn)</option>
                                <option value="1.55">V·∫≠n ƒë·ªông v·ª´a (3-5 ng√†y/tu·∫ßn)</option>
                                <option value="1.725">V·∫≠n ƒë·ªông n·∫∑ng (6-7 ng√†y/tu·∫ßn)</option>
                            </select>
                        </div>
                        <button type="submit" class="w-full bg-emerald-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-emerald-700 transition">T·∫°o B·∫£n ƒê·ªì S·ª©c Kh·ªèe</button>
                    </form>
                </div>

                <div id="health-dashboard-display" class="bg-emerald-50 border border-emerald-200 rounded-xl p-4 mb-6 hidden">
                    <h2 class="text-lg font-semibold mb-3 text-emerald-800">B·∫£n ƒê·ªì S·ª©c Kh·ªèe</h2>
                    <div>
                        <p class="text-sm text-gray-600">NƒÉng l∆∞·ª£ng m·ª•c ti√™u h√¥m nay:</p>
                        <p class="text-right text-2xl font-bold mt-1 text-emerald-600"><span id="tdee-value">0</span> kcal</p>
                    </div>
                </div>

                <div class="bg-amber-50 border border-amber-200 rounded-xl p-4">
                    <h3 class="font-semibold text-amber-800 mb-2">üí° M·∫πo S·ª©c Kh·ªèe H√¥m Nay</h3>
                    <p id="health-tip" class="text-sm text-gray-700"></p>
                </div>
            </div>

            <!-- ========= DAILY JOURNEY SCREEN ========= -->
            <div id="daily_journey" class="screen">
                <header class="mb-6">
                    <h1 class="text-2xl font-bold text-emerald-600">L·ªô Tr√¨nh H√†ng Ng√†y</h1>
                    <p id="current-date" class="text-gray-500"></p>
                </header>
                <div class="space-y-6">
                    <div class="bg-white p-4 rounded-xl border">
                        <h2 class="text-lg font-semibold mb-4 flex items-center"><span class="text-2xl mr-2">ü•ó</span>Dinh D∆∞·ª°ng Th√¥ng Minh</h2>
                        <ul class="space-y-3 text-sm">
                            <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1"><strong>B·ªØa s√°ng:</strong> BodyKey + 1 mu·ªóng Protein</span></li>
                            <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1"><strong>B·ªØa tr∆∞a:</strong> C∆°m g·∫°o l·ª©t, ·ª©c g√†, rau xanh. (U·ªëng 1 vi√™n CB Plus)</span></li>
                             <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1"><strong>B·ªØa t·ªëi:</strong> Salad c√° h·ªìi + 1 vi√™n Omega-3</span></li>
                        </ul>
                    </div>
                    <div class="bg-white p-4 rounded-xl border">
                        <h2 class="text-lg font-semibold mb-4 flex items-center"><span class="text-2xl mr-2">üèÉ</span>V·∫≠n ƒê·ªông Ph√π H·ª£p</h2>
                        <ul class="space-y-3 text-sm">
                            <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1"><strong>M·ª•c ti√™u:</strong> ƒêi b·ªô nhanh 30 ph√∫t</span></li>
                        </ul>
                    </div>
                    <div class="bg-white p-4 rounded-xl border">
                        <h2 class="text-lg font-semibold mb-4 flex items-center"><span class="text-2xl mr-2">üßò</span>L·ªëi S·ªëng C√¢n B·∫±ng</h2>
                        <ul class="space-y-3 text-sm">
                            <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1">U·ªëng ƒë·ªß 2 l√≠t n∆∞·ªõc (u·ªëng t·ª´ng ng·ª•m)</span></li>
                            <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1">Th·ª±c h√†nh h√≠t th·ªü s√¢u 5 ph√∫t</span></li>
                            <li class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 mr-3"><span class="flex-1">Ng·ªß tr∆∞·ªõc 23:00</span></li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ========= LIBRARY SCREEN ========= -->
            <div id="library" class="screen">
                 <header class="mb-6">
                    <h1 class="text-2xl font-bold text-emerald-600">Th∆∞ Vi·ªán S·ª©c Kho·∫ª</h1>
                    <p class="text-gray-500">Ki·∫øn th·ª©c l√† s·ª©c kh·ªèe. Ch·ªçn m·ªôt ch·ªß ƒë·ªÅ ƒë·ªÉ t√¨m hi·ªÉu.</p>
                </header>
                <div class="space-y-3">
                    <button data-target="library_detail_foundational" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe N·ªÅn T·∫£ng</strong><p class="text-sm text-gray-600">X√¢y d·ª±ng "m√≥ng nh√†" s·ª©c kh·ªèe v·ªØng ch·∫Øc.</p></button>
                    <button data-target="library_detail_weight" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>Ki·ªÉm So√°t C√¢n N·∫∑ng</strong><p class="text-sm text-gray-600">Hi·ªÉu ƒë√∫ng v·ªÅ calo, c∆°, m·ª° v√† c√°c gi·∫£i ph√°p b·ªÅn v·ªØng.</p></button>
                    <button data-target="library_detail_digestive" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe Ti√™u H√≥a</strong><p class="text-sm text-gray-600">Ch√¨a kh√≥a cho h·ªá mi·ªÖn d·ªãch v√† s·ª©c kh·ªèe to√†n di·ªán.</p></button>
                    <button data-target="library_detail_immune" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c ƒê·ªÅ Kh√°ng</strong><p class="text-sm text-gray-600">X√¢y d·ª±ng h√†ng r√†o b·∫£o v·ªá c∆° th·ªÉ.</p></button>
                    <button data-target="library_detail_joint" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe X∆∞∆°ng Kh·ªõp</strong><p class="text-sm text-gray-600">Dinh d∆∞·ª°ng cho h·ªá v·∫≠n ƒë·ªông d·∫ªo dai.</p></button>
                    <button data-target="library_detail_cardio" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe Tim M·∫°ch</strong><p class="text-sm text-gray-600">B·∫£o v·ªá "ƒë·ªông c∆°" c·ªßa c∆° th·ªÉ.</p></button>
                    <button data-target="library_detail_liver" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe L√° Gan</strong><p class="text-sm text-gray-600">H·ªó tr·ª£ th·∫£i ƒë·ªôc, l√° ch·∫Øn cho c∆° th·ªÉ.</p></button>
                    <button data-target="library_detail_brain_eye" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe M·∫Øt & N√£o B·ªô</strong><p class="text-sm text-gray-600">Cho ƒë√¥i m·∫Øt s√°ng, cho tr√≠ tu·ªá minh.</p></button>
                    <button data-target="library_detail_gender" class="nav-button w-full text-left p-4 bg-gray-100 hover:bg-emerald-100 rounded-lg transition"><strong>S·ª©c Kh·ªèe Chuy√™n Bi·ªát (Nam/N·ªØ)</strong><p class="text-sm text-gray-600">Nhu c·∫ßu dinh d∆∞·ª°ng ƒë·∫∑c th√π theo gi·ªõi t√≠nh.</p></button>
                </div>
            </div>

            <!-- ========= TOOLS SCREEN ========= -->
            <div id="tools" class="screen">
                 <header class="mb-6">
                    <h1 class="text-2xl font-bold text-emerald-600">C√¥ng C·ª• & H·ªó Tr·ª£</h1>
                    <p class="text-gray-500">Tr·ª£ l√Ω s·ª©c kh·ªèe c√° nh√¢n c·ªßa b·∫°n.</p>
                </header>
                <div class="space-y-6">
                    <div class="bg-white p-4 rounded-xl border">
                        <h2 class="text-lg font-semibold mb-4">C√°c G√≥i Gi·∫£i Ph√°p Tham Kh·∫£o</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <button data-target="library_detail_foundational" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-slate-50 border border-slate-200 hover:shadow-lg transition">
                                <svg class="w-8 h-8 mb-2 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" /></svg>
                                <strong class="font-semibold text-sm">S·ª©c Kh·ªèe N·ªÅn T·∫£ng</strong>
                                <p class="text-xs text-gray-500 mt-1">X√¢y d·ª±ng "m√≥ng nh√†" s·ª©c kh·ªèe v·ªØng ch·∫Øc.</p>
                            </button>
                             <button data-target="library_detail_digestive" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-green-50 border border-green-200 hover:shadow-lg transition">
                                <svg class="w-8 h-8 mb-2 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>
                                <strong class="font-semibold text-sm">H·ªá Ti√™u H√≥a</strong>
                                <p class="text-xs text-gray-500 mt-1">C√¢n b·∫±ng vi sinh, kh·ªüi ngu·ªìn ƒë·ªÅ kh√°ng.</p>
                            </button>
                             <button data-target="library_detail_immune" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-sky-50 border border-sky-200 hover:shadow-lg transition">
                                <svg class="w-8 h-8 mb-2 text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286Z" /></svg>
                                <strong class="font-semibold text-sm">H·ªá Mi·ªÖn D·ªãch</strong>
                                <p class="text-xs text-gray-500 mt-1">X√¢y d·ª±ng h√†ng r√†o b·∫£o v·ªá t·ª± nhi√™n.</p>
                            </button>
                             <button data-target="library_detail_joint" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-orange-50 border border-orange-200 hover:shadow-lg transition">
                                <svg class="w-8 h-8 mb-2 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125" /></svg>
                                <strong class="font-semibold text-sm">X∆∞∆°ng Kh·ªõp</strong>
                                <p class="text-xs text-gray-500 mt-1">B√¥i tr∆°n kh·ªõp n·ªëi, v·ªØng b∆∞·ªõc d·∫ªo dai.</p>
                            </button>
                             <button data-target="library_detail_cardio" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-red-50 border border-red-200 hover:shadow-lg transition">
                                <svg class="w-8 h-8 mb-2 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" /></svg>
                                <strong class="font-semibold text-sm">Tim M·∫°ch</strong>
                                <p class="text-xs text-gray-500 mt-1">B·∫£o v·ªá ƒë·ªông c∆°, v·ªØng b·ªÅn nh·ªãp s·ªëng.</p>
                            </button>
                            <button data-target="library_detail_liver" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-yellow-50 border border-yellow-200 hover:shadow-lg transition">
                                <svg class="w-8 h-8 mb-2 text-yellow-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z" /></svg>
                                <strong class="font-semibold text-sm">L√° Gan</strong>
                                <p class="text-xs text-gray-500 mt-1">H·ªó tr·ª£ th·∫£i ƒë·ªôc, l√° ch·∫Øn cho c∆° th·ªÉ.</p>
                            </button>
                             <button data-target="library_detail_brain_eye" class="nav-button flex flex-col items-center justify-center p-4 rounded-xl text-center bg-violet-50 border border-violet-200 hover:shadow-lg transition col-span-2">
                                <svg class="w-8 h-8 mb-2 text-violet-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.354a15.056 15.056 0 0 1-4.5 0m4.5 0a15.056 15.056 0 0 1 4.5 0M12 4.5v5.25m0 0a5.991 5.991 0 0 1 1.5.189m-1.5-.189a5.991 5.991 0 0 0-1.5.189m3.75-7.478a12.06 12.06 0 0 0-4.5 0m3.75-2.354a15.056 15.056 0 0 0-4.5 0m4.5 0a15.056 15.056 0 0 0 4.5 0" /></svg>
                                <strong class="font-semibold text-sm">M·∫Øt & N√£o B·ªô</strong>
                                <p class="text-xs text-gray-500 mt-1">Cho ƒë√¥i m·∫Øt s√°ng, cho tr√≠ tu·ªá minh.</p>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========= Q&A SCREEN ========= -->
            <div id="q_and_a" class="screen flex flex-col h-full">
                <header class="mb-4">
                    <h1 class="text-2xl font-bold text-emerald-600">Tr·ª£ l√Ω AI</h1>
                    <p class="text-gray-500">ƒê·∫∑t c√¢u h·ªèi v·ªÅ s·ª©c kh·ªèe v√† dinh d∆∞·ª°ng.</p>
                </header>
                <div id="chat-messages" class="flex-1 overflow-y-auto bg-gray-100 p-3 rounded-lg space-y-4">
                    <!-- Chat messages will be appended here -->
                </div>
                <form id="chat-form" class="mt-4 flex items-center">
                    <input type="text" id="chat-input" class="flex-1 rounded-full border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n...">
                    <button type="submit" class="ml-3 bg-emerald-600 text-white p-3 rounded-full hover:bg-emerald-700 transition">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                    </button>
                </form>
            </div>
            
            <!-- ========= LIBRARY DETAIL SCREENS (WITH SOLUTIONS) ========= -->
            <div id="library_detail_foundational" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: S·ª©c Kh·ªèe N·ªÅn T·∫£ng</h1>
                </header>
                 <img src="https://placehold.co/600x300/64748b/FFFFFF?text=S·ª©c+Kh·ªèe+N·ªÅn+T·∫£ng" alt="G√≥i gi·∫£i ph√°p cho s·ª©c kho·∫ª n·ªÅn t·∫£ng" class="solution-image">
                <div class="space-y-4 text-sm text-gray-700">
                     <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">B·ªô S·∫£n Ph·∫©m ƒê·ªÅ Xu·∫•t</h3>
                         <p class="mb-2 text-xs">ƒê√¢y l√† b·ªô s·∫£n ph·∫©m c·ªët l√µi, gi√∫p l·∫•p ƒë·∫ßy c√°c kho·∫£ng tr·ªëng dinh d∆∞·ª°ng m√† b·ªØa ƒÉn h√†ng ng√†y c√≥ th·ªÉ thi·∫øu h·ª•t, x√¢y d·ª±ng m·ªôt c∆° th·ªÉ kh·ªèe m·∫°nh t·ª´ g·ªëc r·ªÖ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="library_detail_weight" class="screen">
                 <header class="mb-4">
                     <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Khoa H·ªçc Ki·ªÉm So√°t C√¢n N·∫∑ng</h1>
                </header>
                <div class="space-y-3 text-sm text-gray-700">
                    <p><strong>Nguy√™n nh√¢n g·ªëc r·ªÖ:</strong> M·∫•t c√¢n b·∫±ng nƒÉng l∆∞·ª£ng (Calo n·∫°p v√†o > Calo ti√™u hao).</p>
                    <p><strong>Gi·∫£i ph√°p b·ªÅn v·ªØng:</strong></p>
                    <ul class="list-disc list-inside space-y-1">
                        <li><strong>Dinh d∆∞·ª°ng:</strong> Ki·ªÉm so√°t calo nh∆∞ng v·∫´n ƒë·ªß ch·∫•t, ∆∞u ti√™n Protein v√† Ch·∫•t x∆°.</li>
                        <li><strong>V·∫≠n ƒë·ªông:</strong> TƒÉng c∆∞·ªùng ti√™u hao nƒÉng l∆∞·ª£ng v√† x√¢y d·ª±ng c∆° b·∫Øp.</li>
                        <li><strong>L·ªëi s·ªëng:</strong> Ng·ªß ƒë·ªß gi·∫•c, qu·∫£n l√Ω stress.</li>
                    </ul>
                    <p class="font-semibold text-red-600">Sai l·∫ßm c·∫ßn tr√°nh: S·ª≠ d·ª•ng thu·ªëc gi·∫£m c√¢n kh√¥ng r√µ ngu·ªìn g·ªëc g√¢y m·∫•t n∆∞·ªõc, ·ª©c ch·∫ø th·∫ßn kinh.</p>
                </div>
            </div>
            <div id="library_detail_digestive" class="screen">
                <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: S·ª©c Kh·ªèe Ti√™u H√≥a</h1>
                </header>
                <img src="https://placehold.co/600x300/22c55e/FFFFFF?text=H·ªá+Ti√™u+H√≥a" alt="G√≥i gi·∫£i ph√°p cho h·ªá ti√™u ho√°" class="solution-image">
                <div class="space-y-4 text-sm text-gray-700">
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">1. B·ªô N·ªÅn T·∫£ng</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p dinh d∆∞·ª°ng ƒëa l∆∞·ª£ng, vi l∆∞·ª£ng v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† h·ªó tr·ª£ s·ª©c kh·ªèe t·ªïng th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">2. H·ªó Tr·ª£ Chuy√™n Bi·ªát</h3>
                         <p class="mb-2 text-xs">T·∫≠p trung c√¢n b·∫±ng h·ªá vi sinh v·∫≠t ƒë∆∞·ªùng ru·ªôt, c·ªßng c·ªë h√†ng r√†o mi·ªÖn d·ªãch v√† gi√∫p h·ªá ti√™u h√≥a ho·∫°t ƒë·ªông tr∆°n tru.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Probiotic</li>
                            <li>Nutrilite Fiber Powder</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="library_detail_immune" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: H·ªá Mi·ªÖn D·ªãch</h1>
                </header>
                <img src="https://placehold.co/600x300/0ea5e9/FFFFFF?text=H·ªá+Mi·ªÖn+D·ªãch" alt="G√≥i gi·∫£i ph√°p cho h·ªá mi·ªÖn d·ªãch" class="solution-image">
                 <div class="space-y-4 text-sm text-gray-700">
                     <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">1. B·ªô N·ªÅn T·∫£ng</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p dinh d∆∞·ª°ng ƒëa l∆∞·ª£ng, vi l∆∞·ª£ng v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† h·ªó tr·ª£ s·ª©c kh·ªèe t·ªïng th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">2. H·ªó Tr·ª£ Chuy√™n Bi·ªát</h3>
                        <p class="mb-2 text-xs">TƒÉng c∆∞·ªùng c√°c d∆∞·ª°ng ch·∫•t then ch·ªët gi√∫p x√¢y d·ª±ng h√†ng r√†o b·∫£o v·ªá t·ª± nhi√™n c·ªßa c∆° th·ªÉ kh·ªèi t√°c nh√¢n g√¢y h·∫°i.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Vitamin C Extended Release</li>
                            <li>Nutrilite Probiotic</li>
                        </ul>
                    </div>
                </div>
            </div>
             <div id="library_detail_joint" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: X∆∞∆°ng Kh·ªõp</h1>
                </header>
                <img src="https://placehold.co/600x300/f97316/FFFFFF?text=X∆∞∆°ng+Kh·ªõp" alt="G√≥i gi·∫£i ph√°p cho x∆∞∆°ng kh·ªõp" class="solution-image">
                <div class="space-y-4 text-sm text-gray-700">
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">1. B·ªô N·ªÅn T·∫£ng</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p dinh d∆∞·ª°ng ƒëa l∆∞·ª£ng, vi l∆∞·ª£ng v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† h·ªó tr·ª£ s·ª©c kh·ªèe t·ªïng th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">2. H·ªó Tr·ª£ Chuy√™n Bi·ªát</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p c√°c "v·∫≠t li·ªáu" c·∫ßn thi·∫øt ƒë·ªÉ nu√¥i d∆∞·ª°ng s·ª•n kh·ªõp, b√¥i tr∆°n v√† x√¢y d·ª±ng h·ªá x∆∞∆°ng v·ªØng ch·∫Øc, d·∫ªo dai.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Cal Mag D</li>
                            <li>Nutrilite Joint Health</li>
                        </ul>
                    </div>
                </div>
            </div>
             <div id="library_detail_cardio" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: Tim M·∫°ch</h1>
                </header>
                <img src="https://placehold.co/600x300/ef4444/FFFFFF?text=Tim+M·∫°ch" alt="G√≥i gi·∫£i ph√°p cho tim m·∫°ch" class="solution-image">
                 <div class="space-y-4 text-sm text-gray-700">
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">1. B·ªô N·ªÅn T·∫£ng</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p dinh d∆∞·ª°ng ƒëa l∆∞·ª£ng, vi l∆∞·ª£ng v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† h·ªó tr·ª£ s·ª©c kh·ªèe t·ªïng th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">2. H·ªó Tr·ª£ Chuy√™n Bi·ªát</h3>
                        <p class="mb-2 text-xs">B·∫£o v·ªá "ƒë·ªông c∆°" c·ªßa c∆° th·ªÉ b·∫±ng c√°ch cung c·∫•p nƒÉng l∆∞·ª£ng cho c∆° tim v√† c√°c ch·∫•t ch·ªëng oxy h√≥a m·∫°nh m·∫Ω.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Heart Health CoQ10</li>
                            <li>Nutrilite Vitamin E</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="library_detail_liver" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: L√° Gan</h1>
                </header>
                <img src="https://placehold.co/600x300/eab308/FFFFFF?text=L√°+Gan" alt="G√≥i gi·∫£i ph√°p cho l√° gan" class="solution-image">
                <div class="space-y-4 text-sm text-gray-700">
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">1. B·ªô N·ªÅn T·∫£ng</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p dinh d∆∞·ª°ng ƒëa l∆∞·ª£ng, vi l∆∞·ª£ng v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† h·ªó tr·ª£ s·ª©c kh·ªèe t·ªïng th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">2. H·ªó Tr·ª£ Chuy√™n Bi·ªát</h3>
                        <p class="mb-2 text-xs">H·ªó tr·ª£ gi·∫£i ƒë·ªôc, b·∫£o v·ªá v√† tƒÉng c∆∞·ªùng ch·ª©c nƒÉng gan, c∆° quan th·∫£i ƒë·ªôc quan tr·ªçng nh·∫•t c·ªßa c∆° th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Liver Health</li>
                            <li>Nutrilite Natural B Complex</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="library_detail_brain_eye" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">Gi·∫£i Ph√°p: M·∫Øt & N√£o B·ªô</h1>
                </header>
                <img src="https://placehold.co/600x300/8b5cf6/FFFFFF?text=M·∫Øt+&+N√£o+B·ªô" alt="G√≥i gi·∫£i ph√°p cho m·∫Øt v√† n√£o b·ªô" class="solution-image">
                <div class="space-y-4 text-sm text-gray-700">
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">1. B·ªô N·ªÅn T·∫£ng</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p dinh d∆∞·ª°ng ƒëa l∆∞·ª£ng, vi l∆∞·ª£ng v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc v√† h·ªó tr·ª£ s·ª©c kh·ªèe t·ªïng th·ªÉ.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Double X</li>
                            <li>Nutrilite All Plant Protein Powder / BodyKey</li>
                            <li>Nutrilite Salmon Omega-3</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2 text-emerald-700">2. H·ªó Tr·ª£ Chuy√™n Bi·ªát</h3>
                        <p class="mb-2 text-xs">Cung c·∫•p c√°c d∆∞·ª°ng ch·∫•t chuy√™n bi·ªát gi√∫p b·∫£o v·ªá th·ªã l·ª±c v√† h·ªó tr·ª£ c√°c ch·ª©c nƒÉng c·ªßa n√£o b·ªô.</p>
                        <ul class="list-disc list-inside space-y-1 font-medium bg-gray-50 p-3 rounded-md">
                            <li>Nutrilite Multi Carotene</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="library_detail_gender" class="screen">
                 <header class="mb-4">
                    <button class="nav-back text-emerald-600 font-semibold mb-2">&lt; Quay l·∫°i Th∆∞ Vi·ªán</button>
                    <h1 class="text-xl font-bold">S·ª©c Kh·ªèe Chuy√™n Bi·ªát (Nam/N·ªØ)</h1>
                </header>
                <div class="space-y-3 text-sm text-gray-700">
                    <div class="p-3 bg-blue-50 rounded-lg">
                        <h3 class="font-semibold text-blue-800">Nam gi·ªõi:</h3>
                        <ul class="list-disc list-inside mt-1">
                            <li>C·∫ßn ch√∫ tr·ªçng c√°c <strong>Vitamin nh√≥m B</strong> ƒë·ªÉ chuy·ªÉn h√≥a nƒÉng l∆∞·ª£ng, gi·∫£m stress.</li>
                            <li><strong>Coenzyme Q10</strong> h·ªó tr·ª£ hi·ªáu su·∫•t th·ªÉ ch·∫•t.</li>
                            <li>C√°c th·∫£o d∆∞·ª£c trong <strong>Nutrilite Liver Health</strong> h·ªó tr·ª£ ch·ª©c nƒÉng gan.</li>
                        </ul>
                    </div>
                     <div class="p-3 bg-pink-50 rounded-lg mt-3">
                        <h3 class="font-semibold text-pink-800">N·ªØ gi·ªõi:</h3>
                        <ul class="list-disc list-inside mt-1">
                            <li>C·∫ßn b·ªï sung ƒë·ªß <strong>S·∫Øt & Axit Folic</strong> ƒë·ªÉ t·∫°o m√°u.</li>
                            <li><strong>Vitamin C</strong> h·ªó tr·ª£ t·ªïng h·ª£p collagen cho da.</li>
                            <li>B·ªô ba <strong>Canxi - Magie - Vitamin D</strong> c·ª±c k·ª≥ c·∫ßn thi·∫øt ƒë·ªÉ ph√≤ng ng·ª´a lo√£ng x∆∞∆°ng.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation Bar -->
        <nav class="fixed bottom-0 left-1/2 -translate-x-1/2 max-w-md w-full bg-white border-t shadow-t z-10">
            <div class="flex justify-around">
                <button data-target="home" class="bottom-nav-item active flex-1 flex flex-col items-center justify-center p-2 text-center text-gray-500 hover:bg-gray-100 transition">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                    <span class="text-xs">Trang ch·ªß</span>
                </button>
                <button data-target="daily_journey" class="bottom-nav-item flex-1 flex flex-col items-center justify-center p-2 text-center text-gray-500 hover:bg-gray-100 transition">
                     <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>
                    <span class="text-xs">L·ªô tr√¨nh</span>
                </button>
                 <button data-target="library" class="bottom-nav-item flex-1 flex flex-col items-center justify-center p-2 text-center text-gray-500 hover:bg-gray-100 transition">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                    <span class="text-xs">Th∆∞ vi·ªán</span>
                </button>
                 <button data-target="tools" class="bottom-nav-item flex-1 flex flex-col items-center justify-center p-2 text-center text-gray-500 hover:bg-gray-100 transition">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    <span class="text-xs">C√¥ng c·ª•</span>
                </button>
                 <button data-target="q_and_a" class="bottom-nav-item flex-1 flex flex-col items-center justify-center p-2 text-center text-gray-500 hover:bg-gray-100 transition">
                    <svg class="w-6 h-6 mb-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 12a8.25 8.25 0 11-16.5 0 8.25 8.25 0 0116.5 0z" />
                    </svg>
                    <span class="text-xs">H·ªèi & ƒê√°p</span>
                </button>
            </div>
        </nav>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const screens = document.querySelectorAll('.screen');
        const bottomNavItems = document.querySelectorAll('.bottom-nav-item');
        const navButtons = document.querySelectorAll('.nav-button');
        const navBackButtons = document.querySelectorAll('.nav-back');
        const userInfoForm = document.getElementById('user-info-form');

        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');

        // Function to switch screens
        function showScreen(screenId) {
            screens.forEach(screen => {
                screen.classList.remove('active');
            });
            const activeScreen = document.getElementById(screenId);
            if (activeScreen) {
                activeScreen.classList.add('active');
            }
            const mainScreens = ['home', 'daily_journey', 'library', 'tools', 'q_and_a'];
            if (mainScreens.includes(screenId)) {
                bottomNavItems.forEach(item => {
                    item.classList.toggle('active', item.dataset.target === screenId);
                });
            } else {
                 bottomNavItems.forEach(item => item.classList.remove('active'));
                 if (screenId.startsWith('library_detail_')) {
                    document.querySelector('.bottom-nav-item[data-target="library"]').classList.add('active');
                 }
            }
            window.scrollTo(0, 0);
        }

        // Navigation logic
        bottomNavItems.forEach(item => {
            item.addEventListener('click', () => showScreen(item.dataset.target));
        });
        navButtons.forEach(button => {
            button.addEventListener('click', () => showScreen(button.dataset.target));
        });
        navBackButtons.forEach(button => {
            button.addEventListener('click', () => showScreen('library'));
        });

        // BMR and TDEE calculation on Home screen
        userInfoForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const gender = document.getElementById('gender').value;
            const age = parseFloat(document.getElementById('age').value);
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const activityLevel = parseFloat(document.getElementById('activity-level').value);
            const goal = document.getElementById('goal').value;

            if (!age || !height || !weight) {
                alert("Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ t·∫°o B·∫£n ƒê·ªì S·ª©c Kh·ªèe.");
                return;
            }

            let bmr = 0;
            if (gender === 'male') {
                bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);
            } else {
                bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
            }
            
            let tdee = bmr * activityLevel;

            if (goal === 'lose') {
                tdee -= 500; // Calorie deficit for weight loss
            } else if (goal === 'gain') {
                tdee += 500; // Calorie surplus for weight gain
            }
            
            document.getElementById('tdee-value').textContent = tdee.toFixed(0);
            document.getElementById('health-dashboard-setup').classList.add('hidden');
            document.getElementById('health-dashboard-display').classList.remove('hidden');
        });
        
        // Chat Logic
        function displayMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('p-3', 'rounded-lg', 'max-w-xs', 'text-sm');
            if (sender === 'user') {
                messageDiv.classList.add('bg-emerald-500', 'text-white', 'ml-auto');
                messageDiv.textContent = text;
            } else {
                messageDiv.classList.add('bg-white', 'border', 'mr-auto');
                if (text.includes('typing...')) {
                    messageDiv.id = 'typing-indicator';
                    messageDiv.innerHTML = `<div class="flex items-center space-x-1"><div class="w-2 h-2 bg-gray-400 rounded-full animate-pulse"></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-pulse" style="animation-delay: 0.2s;"></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-pulse" style="animation-delay: 0.4s;"></div></div>`;
                } else {
                    messageDiv.innerHTML = text.replace(/\n/g, '<br>'); 
                }
            }
           
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getAiResponse(userInput) {
            const lowerInput = userInput.toLowerCase();
            let response = "Xin l·ªói, t√¥i ch∆∞a ƒë∆∞·ª£c hu·∫•n luy·ªán v·ªÅ ch·ªß ƒë·ªÅ n√†y. D·ª±a tr√™n ki·∫øn th·ª©c hi·ªán t·∫°i, t√¥i c√≥ th·ªÉ cung c·∫•p th√¥ng tin v·ªÅ c√°c gi·∫£i ph√°p s·ª©c kh·ªèe, dinh d∆∞·ª°ng v√† ki·ªÉm so√°t c√¢n n·∫∑ng. B·∫°n c√≥ th·ªÉ h·ªèi t√¥i v·ªÅ ti·ªÉu ƒë∆∞·ªùng, gi·∫£m c√¢n, tim m·∫°ch, x∆∞∆°ng kh·ªõp, ti√™u h√≥a, gan, m·∫Øt, n√£o b·ªô ho·∫∑c c√°c nguy√™n t·∫Øc s·ªëng kh·ªèe.";

            if (lowerInput.includes('ti·ªÉu ƒë∆∞·ªùng') || lowerInput.includes('ƒë∆∞·ªùng huy·∫øt')) {
                response = `Ch√†o b·∫°n, ƒë·ªëi v·ªõi ng∆∞·ªùi b·ªánh ti·ªÉu ƒë∆∞·ªùng tu√Ωp 2, vi·ªác c·∫£i thi·ªán s·ª©c kh·ªèe n·ªÅn t·∫£ng l√† v√¥ c√πng quan tr·ªçng. Nguy√™n t·∫Øc ch√≠nh l√† ki·ªÉm so√°t ƒë∆∞·ªùng huy·∫øt v√† qu·∫£n l√Ω c√¢n n·∫∑ng qua m·ªôt l·ªëi s·ªëng khoa h·ªçc.
                \n\n**Dinh d∆∞·ª°ng c·∫ßn ch√∫ tr·ªçng:**
                \n- **Ch·∫•t x∆°:** Gi√∫p l√†m ch·∫≠m h·∫•p thu ƒë∆∞·ªùng, b·∫°n c√≥ th·ªÉ b·ªï sung qua Nutrilite Fiber Powder.
                \n- **Protein th·ª±c v·∫≠t:** Gi√∫p no l√¢u, duy tr√¨ c∆° b·∫Øp. Nutrilite All Plant Protein l√† m·ªôt l·ª±a ch·ªçn t·ªët.
                \n- **H·∫°n ch·∫ø h·∫•p thu tinh b·ªôt:** ƒê·ªëi v·ªõi c√°c b·ªØa ƒÉn nhi·ªÅu c∆°m, b√∫n, ph·ªü, Nutrilite CB Plus c√≥ th·ªÉ h·ªó tr·ª£.
                \n- **Vi ch·∫•t ƒë·∫ßy ƒë·ªß:** Nutrilite Double X gi√∫p b·ªï sung vitamin, kho√°ng ch·∫•t v√† d∆∞·ª°ng ch·∫•t th·ª±c v·∫≠t, tƒÉng c∆∞·ªùng kh·∫£ nƒÉng ch·ªëng oxy h√≥a.
                \n\n**L∆∞u √Ω:** C√°c s·∫£n ph·∫©m n√†y ch·ªâ l√† th·ª±c ph·∫©m b·ªï sung, kh√¥ng thay th·∫ø thu·ªëc ƒëi·ªÅu tr·ªã v√† c·∫ßn tham kh·∫£o √Ω ki·∫øn b√°c sƒ©.`;
            } else if (lowerInput.includes('ƒëau kh·ªõp') || lowerInput.includes('x∆∞∆°ng')) {
                response = `ƒê·ªÉ h·ªó tr·ª£ s·ª©c kh·ªèe x∆∞∆°ng kh·ªõp, ch√∫ng ta c·∫ßn t·∫≠p trung v√†o vi·ªác cung c·∫•p "v·∫≠t li·ªáu" ƒë·ªÉ x√¢y d·ª±ng v√† b·∫£o v·ªá s·ª•n, x∆∞∆°ng.
                \n\n**Gi·∫£i ph√°p dinh d∆∞·ª°ng to√†n di·ªán:**
                \n1. **B·ªô N·ªÅn T·∫£ng:** Double X, Protein, Omega-3 ƒë·ªÉ cung c·∫•p ƒë·ªß vi ch·∫•t v√† ch·∫•t kh√°ng vi√™m t·ª± nhi√™n.
                \n2. **H·ªó tr·ª£ chuy√™n bi·ªát:**
                \n- **Nutrilite Cal Mag D:** Cung c·∫•p b·ªô ba Canxi, Magie, Vitamin D gi√∫p x∆∞∆°ng ch·∫Øc kh·ªèe.
                \n- **Nutrilite Joint Health:** Ch·ª©a Glucosamine v√† Chondroitin gi√∫p nu√¥i d∆∞·ª°ng v√† t√°i t·∫°o s·ª•n kh·ªõp.
                \n\nB√™n c·∫°nh dinh d∆∞·ª°ng, vi·ªác duy tr√¨ c√¢n n·∫∑ng h·ª£p l√Ω v√† v·∫≠n ƒë·ªông nh·∫π nh√†ng l√† r·∫•t quan tr·ªçng ƒë·ªÉ gi·∫£m √°p l·ª±c l√™n kh·ªõp.`;
            } else if (lowerInput.includes('gi·∫£m c√¢n') || lowerInput.includes('b√©o ph√¨') || lowerInput.includes('m·ª° th·ª´a')) {
                 response = `Ch√†o b·∫°n, ƒë·ªÉ ki·ªÉm so√°t c√¢n n·∫∑ng v√† gi·∫£m m·ª° th·ª´a m·ªôt c√°ch khoa h·ªçc v√† b·ªÅn v·ªØng, ch√∫ng ta c·∫ßn t·∫≠p trung v√†o vi·ªác c√¢n b·∫±ng nƒÉng l∆∞·ª£ng (calo n·∫°p v√†o < calo ti√™u hao) v√† l·ª±a ch·ªçn ƒë√∫ng dinh d∆∞·ª°ng.
                \n\n**C√°c s·∫£n ph·∫©m h·ªó tr·ª£ hi·ªáu qu·∫£:**
                \n- **BodyKey by Nutrilite:** B·ªØa ƒÉn thay th·∫ø th√¥ng minh, gi√∫p b·∫°n ki·ªÉm so√°t calo n·∫°p v√†o m√† v·∫´n ƒë·∫£m b·∫£o ƒë·ªß dinh d∆∞·ª°ng.
                \n- **Nutrilite All Plant Protein:** TƒÉng c∆∞·ªùng protein gi√∫p no l√¢u, duy tr√¨ c∆° b·∫Øp v√† tƒÉng c∆∞·ªùng trao ƒë·ªïi ch·∫•t.
                \n- **Nutrilite GreenTrim:** H·ªó tr·ª£ gi·∫£m m·ª° c∆° th·ªÉ, ƒë·∫∑c bi·ªát l√† m·ª° n·ªôi t·∫°ng, nh·ªù chi·∫øt xu·∫•t tr√† xanh EGCG.
                \n- **Nutrilite CB Plus:** H·ªó tr·ª£ h·∫°n ch·∫ø h·∫•p thu calo t·ª´ c√°c b·ªØa ƒÉn gi√†u tinh b·ªôt.
                \n- **Nutrilite Fiber Powder:** B·ªï sung ch·∫•t x∆° gi√∫p no l√¢u, gi·∫£m c·∫£m gi√°c th√®m ƒÉn.
                \n\nƒê·ªÉ ƒë·∫°t hi·ªáu qu·∫£ t·ªët nh·∫•t, b·∫°n n√™n k·∫øt h·ª£p c√°c s·∫£n ph·∫©m n√†y v·ªõi m·ªôt ch·∫ø ƒë·ªô ƒÉn u·ªëng l√†nh m·∫°nh v√† l·ªãch tr√¨nh v·∫≠n ƒë·ªông ƒë·ªÅu ƒë·∫∑n.`;
            } else if (lowerInput.includes('tim m·∫°ch') || lowerInput.includes('huy·∫øt √°p') || lowerInput.includes('m·ª° m√°u')) {
                response = `ƒê·ªÉ b·∫£o v·ªá s·ª©c kh·ªèe tim m·∫°ch, ch√∫ng ta c·∫ßn t·∫≠p trung v√†o vi·ªác cung c·∫•p nƒÉng l∆∞·ª£ng cho c∆° tim v√† c√°c ch·∫•t ch·ªëng oxy h√≥a m·∫°nh m·∫Ω ƒë·ªÉ b·∫£o v·ªá th√†nh m·∫°ch.
                \n\n**Gi·∫£i ph√°p dinh d∆∞·ª°ng to√†n di·ªán:**
                \n1. **B·ªô N·ªÅn T·∫£ng:** Double X, Protein, Omega-3 l√† n·ªÅn t·∫£ng kh√¥ng th·ªÉ thi·∫øu.
                \n2. **H·ªó tr·ª£ chuy√™n bi·ªát:**
                \n- **Nutrilite Heart Health CoQ10:** Cung c·∫•p nƒÉng l∆∞·ª£ng tr·ª±c ti·∫øp cho t·∫ø b√†o c∆° tim v√† ch·ªëng oxy h√≥a m·∫°nh m·∫Ω.
                \n- **Nutrilite Vitamin E:** Gi√∫p b·∫£o v·ªá m√†ng t·∫ø b√†o tim kh·ªèi s·ª± t·∫•n c√¥ng c·ªßa g·ªëc t·ª± do.`;
            } else if (lowerInput.includes('ti√™u ho√°') || lowerInput.includes('ƒë·∫ßy h∆°i') || lowerInput.includes('t√°o b√≥n')) {
                response = `S·ª©c kh·ªèe ti√™u h√≥a l√† ch√¨a kh√≥a c·ªßa h·ªá mi·ªÖn d·ªãch. ƒê·ªÉ h·ªá ti√™u h√≥a kh·ªèe m·∫°nh, ch√∫ng ta c·∫ßn c√¢n b·∫±ng h·ªá vi sinh v·∫≠t ƒë∆∞·ªùng ru·ªôt.
                \n\n**Gi·∫£i ph√°p dinh d∆∞·ª°ng to√†n di·ªán:**
                \n1. **B·ªô N·ªÅn T·∫£ng:** Double X, Protein, Omega-3.
                \n2. **H·ªó tr·ª£ chuy√™n bi·ªát:**
                \n- **Nutrilite Probiotic:** B·ªï sung l·ª£i khu·∫©n ƒë·ªÉ ƒë·∫°t t·ª∑ l·ªá v√†ng 85% l·ª£i khu·∫©n - 15% h·∫°i khu·∫©n.
                \n- **Nutrilite Fiber Powder:** Cung c·∫•p ch·∫•t x∆° h√≤a tan (Prebiotic) - l√† th·ª©c ƒÉn cho l·ª£i khu·∫©n.`;
            } else if (lowerInput.includes('gan') || lowerInput.includes('th·∫£i ƒë·ªôc')) {
                 response = `L√° gan l√† c∆° quan th·∫£i ƒë·ªôc ch√≠nh c·ªßa c∆° th·ªÉ. H·ªó tr·ª£ ch·ª©c nƒÉng gan l√† m·ªôt ph·∫ßn quan tr·ªçng c·ªßa s·ª©c kh·ªèe t·ªïng th·ªÉ.
                \n\n**Gi·∫£i ph√°p dinh d∆∞·ª°ng to√†n di·ªán:**
                \n1. **B·ªô N·ªÅn T·∫£ng:** Double X, Protein, Omega-3.
                \n2. **H·ªó tr·ª£ chuy√™n bi·ªát:**
                \n- **Nutrilite Liver Health:** Ch·ª©a c√°c th·∫£o d∆∞·ª£c nh∆∞ C√¢y c√∫c gai v√† Ngh·ªá gi√∫p h·ªó tr·ª£ ch·ª©c nƒÉng gan.
                \n- **Nutrilite Natural B Complex:** Vitamin nh√≥m B c·∫ßn thi·∫øt cho c√°c qu√° tr√¨nh chuy·ªÉn h√≥a t·∫°i gan.`;
            } else if (lowerInput.includes('enzyme') || lowerInput.includes('shinya')) {
                 response = `Theo b√°c sƒ© Hiromi Shinya trong t√°c ph·∫©m "Nh√¢n t·ªë Enzyme", enzyme di·ªáu k·ª≥ l√† c·ªôi ngu·ªìn c·ªßa s·ª± s·ªëng v√† s·ª©c kh·ªèe. M·ªôt ch·∫ø ƒë·ªô ƒÉn u·ªëng l√†nh m·∫°nh, gi√†u th·ª±c ph·∫©m t∆∞∆°i s·ªëng v√† ch∆∞a qua ch·∫ø bi·∫øn s·∫Ω gi√∫p b·∫£o t·ªìn l∆∞·ª£ng enzyme qu√Ω gi√° n√†y. √îng c≈©ng nh·∫•n m·∫°nh t·∫ßm quan tr·ªçng c·ªßa vi·ªác duy tr√¨ m·ªôt ƒë∆∞·ªùng ru·ªôt s·∫°ch s·∫Ω v√† kh·ªèe m·∫°nh, v√¨ ƒë√¢y l√† n∆°i s·∫£n sinh ra nhi·ªÅu enzyme quan tr·ªçng.`;
            } else if (lowerInput.includes('b√°c sƒ© t·ªët nh·∫•t') || lowerInput.includes('ch√≠nh m√¨nh')) {
                 response = `Tri·∫øt l√Ω "B√°c sƒ© t·ªët nh·∫•t l√† ch√≠nh m√¨nh" nh·∫•n m·∫°nh r·∫±ng c∆° th·ªÉ ch√∫ng ta s·ªü h·ªØu kh·∫£ nƒÉng t·ª± ch·ªØa l√†nh phi th∆∞·ªùng. Thay v√¨ ph·ª• thu·ªôc ho√†n to√†n v√†o thu·ªëc men, ch√∫ng ta n√™n ch·ªß ƒë·ªông x√¢y d·ª±ng m·ªôt l·ªëi s·ªëng l√†nh m·∫°nh th√¥ng qua dinh d∆∞·ª°ng c√¢n b·∫±ng, v·∫≠n ƒë·ªông h·ª£p l√Ω, v√† tinh th·∫ßn l·∫°c quan. ƒê√¢y ch√≠nh l√† c√°ch t·ªët nh·∫•t ƒë·ªÉ ph√≤ng b·ªánh v√† duy tr√¨ s·ª©c kh·ªèe b·ªÅn v·ªØng.`;
            }


            return response;
        }

        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userInput = chatInput.value.trim();
            if (userInput === '') return;

            displayMessage(userInput, 'user');
            chatInput.value = '';

            displayMessage('typing...', 'ai');
            
            setTimeout(() => {
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
                const aiResponse = getAiResponse(userInput);
                displayMessage(aiResponse, 'ai');
            }, 1500);
        });
        
        // Initial welcome message
        function showWelcomeMessage() {
             setTimeout(() => {
                displayMessage("Ch√†o b·∫°n, t√¥i l√† Tr·ª£ l√Ω S·ª©c kh·ªèe AI. T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n h√¥m nay? H√£y ƒë·∫∑t c√¢u h·ªèi v·ªÅ c√°c v·∫•n ƒë·ªÅ s·ª©c kh·ªèe nh∆∞ ti·ªÉu ƒë∆∞·ªùng, gi·∫£m c√¢n, x∆∞∆°ng kh·ªõp, hay c√°c tri·∫øt l√Ω v·ªÅ enzyme v√† kh·∫£ nƒÉng t·ª± ch·ªØa l√†nh.", 'ai');
            }, 500);
        }

        // Initialize App
        function initializeApp() {
            const dateElement = document.getElementById('current-date');
            if (dateElement) {
                 const today = new Date();
                 const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                 dateElement.textContent = today.toLocaleDateString('vi-VN', options);
            }
            const tips = [
                "70% h·ªá mi·ªÖn d·ªãch n·∫±m ·ªü ƒë∆∞·ªùng ru·ªôt. M·ªôt h·ªá ti√™u h√≥a kh·ªèe m·∫°nh l√† n·ªÅn t·∫£ng cho s·ª©c ƒë·ªÅ kh√°ng.",
                "U·ªëng ƒë·ªß n∆∞·ªõc, nh∆∞ng h√£y u·ªëng t·ª´ng ng·ª•m nh·ªè ƒë·ªÉ c∆° th·ªÉ h·∫•p thu t·ªët nh·∫•t.",
                "Ch·∫•t x∆° kh√¥ng ch·ªâ gi√∫p no l√¢u m√† c√≤n l√† th·ª©c ƒÉn cho c√°c l·ª£i khu·∫©n trong ƒë∆∞·ªùng ru·ªôt.",
                "Gi·∫•c ng·ªß t·ª´ 10h t·ªëi ƒë·∫øn 2h s√°ng l√† 'th·ªùi gian v√†ng' ƒë·ªÉ c∆° th·ªÉ ti·∫øt hormone ch·ªØa l√†nh.",
                "Ch·ªâ 30 ph√∫t ƒëi b·ªô nhanh m·ªói ng√†y c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ s·ª©c kh·ªèe tim m·∫°ch v√† ƒë·ªô nh·∫°y insulin."
            ];
            const tipElement = document.getElementById('health-tip');
            if(tipElement) {
                tipElement.textContent = tips[Math.floor(Math.random() * tips.length)];
            }
            if(document.getElementById('q_and_a').classList.contains('active')){
                showWelcomeMessage();
            }
        }
        
        initializeApp();
    });
</script>

</body>
</html>
